{% extends 'base.html' %}
{% load static %}
{% block body %}
<div class="my-5 row" style="margin: 0px 300px 0px 300px;" >
    <div class="col-2">
        <h1 class="fw-bold">장바구니</h1>
        <ul class="list-group">
            <li class="list-group-item border border-0 px-0">
                <span class="fw-bold">01</span> 장바구니
            </li>
            <li class="list-group-item border border-0 px-0">
                <span class="fw-bold">02</span> 주문서작성/결제
            </li>
            <li class="list-group-item border border-0 px-0">
                <span class="fw-bold">03</span> 주문완료
            </li>
        </ul>
    </div>
    <div class="col-10" style="padding-left: 150px;">
        <h3 class="fw-bold">장바구니</h3>
        <table class="table">
            <thead>
                <tr>
                    <th scope="col" class="text-center"><input type="checkbox" value="{{picked}}"></th>
                    <th scope="col" class="text-center">상품명/옵션</th>
                    <th scope="col" class="text-center">수량</th>
                    <th scope="col" class="text-center">상품금액</th>
                    <th scope="col" class="text-center">할인/적립</th>
                    <th scope="col" class="text-center">합계금액</th>
                </tr>
            </thead>
            <tbody>
                {% for i in picked %}
                <tr style="padding: 30px 0px 30px 0px;">
                    <th class="text-center align-middle"><input type="checkbox" value="{{i.picked_item}}"></th>
                    <td class="pt-4 d-flex">
                        <img src={{i.picked_item.image_url}} alt="item_image" style="height: 90px;">
                        <div>
                            <p class="fw-bold mb-2" style=" padding-left:40px;">{{i.picked_item.title}}</p>
                            <p class="mb-0 text-muted" style="font-size: 15px; padding-left:40px;">용량 <span class="fw-semibold"></span></p>
                            <p class="mb-0 text-muted" style="font-size: 15px; padding-left:40px;">분쇄도 <sapn class="fw-semibold"></span></p>
                        </div>
                    </td>
                    <td class="text-center py-3 align-middle">
                    <p class="mb-2">{{i.amount}}</p>
                    <p class="mb-0">
                        <button class="btn btn-light m-0" data-bs-toggle="modal" data-bs-target="#exampleModal" style="font-size: 14px;">
                        옵션/수량 변경
                        </button>
                        <!-- modal -->
                        <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                            <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                <h1 class="modal-title fs-5 fw-bold" id="exampleModalLabel">옵션선택</h1>
                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                </div>
                                <div class="modal-body">
                                    <p>{{i.picked_item.title}}</p>
                                    <form action="{% url 'items:picking' %}" method="POST">
                                        <div style="width:470px">
                                        <p class="text-start">용량</p>
                                        <select class='form-select mb-3' id="volume1"name="" form="buy/pick-form">
                                            <option selected>= 용량 선택 =</option>
                                            <option value="200">200</option>
                                        </select>
                                        <p class="text-start">분쇄도</p>
                                        <select class='form-select mb-5' name="" form="buy/pick-form">
                                            <option selected>= 분쇄도 선택 : 가격 =</option>
                                            <option value="홀빈(갈지않음)">홀빈(갈지않음)</option>
                                            <option value="핸드드립/커피메이커">핸드드립/커피메이커</option>
                                            <option value="프렌치프레스">프렌치프레스</option>
                                            <option value="모카포트">모카포트</option>
                                            <option value="에어로프레스">에어로프레스</option>
                                            <option value="에스프레소머신">에스프레소머신</option>
                                            <option value="콜드브루/더치">콜드브루/더치</option>
                                        </select>
                                    </form>
                                </div>
                                <div class="modal-footer">
                                <button type="button" type="submit" class="btn btn-secondary" data-bs-dismiss="modal">확인</button>
                                </div>
                            </div>
                            </div>
                        </div>
                    </p>
                    </td>
                    <td class="text-center py-3 align-middle">{{i.picked_item.price}}</td>
                    <td class="text-center py-3 align-middle"></td>
                    <td class="text-center py-3 align-middle">{{i.picked_item.price}}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
        <div class="bg-light py-5 d-flex justify-content-center">
            <dl>
                <dt>주문 금액</dt>
                <dd class="mt-3">00000원</dd>
            </dl>
            <span>+</span>
            <dl>
                <dt>배송비</dt>
                <dd class="mt-3">3,000원</dd>
            </dl>
            <span>=</span>
            <dl>
                <dt>합계</dt>
                <dd class="mt-3">00000원</dd>
            </dl>
        </div>
        <div>
            <a href="{% url 'items:index' %}">쇼핑계속하기</a>
            <a href="{% url 'items:delete_picked' %}">선택 상품 삭제</a>
        </div>
        <div class="d-flex">
            <button type="button" class="py-1 px-3">선택상품주문</button>
            <button type="button" class="py-1 px-3">전체상품주문</button>
        </div>
    </div>
</div>

{% endblock %}